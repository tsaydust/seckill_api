# 秒杀系统 - 商品与订单服务

基于 **FastAPI** 的高性能秒杀接口服务，集成商品管理、订单生成、支付闭环功能。通过 **Kafka 异步削峰**、**Redis 库存预热**、**雪花算法分布式ID** 保障高并发场景下的稳定性和数据一致性，并实现支付宝支付全流程对接。 **Consul 服务治理** 和 **JWT 鉴权**，提升系统的安全性与可维护性。

---

## 🌟 核心功能

### 商品管理
- 商品库存的增删改查
- 秒杀活动预热与库存缓存（Redis）
- 实时库存扣减与恢复

### 订单服务
- 分布式唯一订单号生成（雪花算法）
- 订单状态机管理（待支付/已支付/超时关闭）
- Kafka 异步处理订单创建与支付回调

### 支付集成
- 支付宝沙箱环境支付对接
- 支付结果异步通知
- 订单状态与支付结果强一致性保障

### 安全与治理
- **JWT 鉴权**：基于 Token 的权限控制，保障接口安全
- **Consul 集成**：服务注册与发现，支持动态扩展与健康检查

---

## 🛠️ 技术架构

| 组件              | 说明                                                                 |
|-------------------|--------------------------------------------------------------------|
| **框架**          | FastAPI (异步高性能API框架)                                         |
| **消息队列**      | Apache Kafka (订单异步处理与流量削峰)                               |
| **缓存**          | Redis (商品库存预热/分布式锁)                                       |
| **数据库**        | SQLAlchemy ORM (支持 MySQL/PostgreSQL)                             |
| **分布式ID**      | 雪花算法 (解决分库分表ID冲突)                                       |
| **支付网关**      | 支付宝官方SDK集成                                                   |
| **服务治理**      | Consul (服务注册/发现/健康检查)                                     |
| **安全认证**      | JWT (JSON Web Token) 鉴权                                          |

---
